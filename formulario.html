<!DOCTYPE html>
<html lang="pt-br">
<head>
    <link rel="stylesheet" href="form.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reserva de Mesa - Restaurante</title>

    <!-- Est√©tica tem√°tica de restaurante -->
    <style>
        body {
            background: linear-gradient(135deg, #5c2c12, #b3541e);
            background-attachment: fixed;
            font-family: "Segoe UI", sans-serif;
        }

        .card {
            background: rgba(255, 248, 240, 0.9);
            border: 2px solid #c99355;
            box-shadow: 0px 0px 15px rgba(0,0,0,0.4);
            border-radius: 12px;
            backdrop-filter: blur(4px);
        }

        h1 {
            color: #8b2e0e;
            font-size: 30px;
            font-family: Georgia, serif;
        }

        h3 {
            color: #c96a2c;
            font-family: Georgia, serif;
        }

        fieldset {
            border: 2px solid #d89c5c;
            border-radius: 10px;
            padding: 10px;
        }

        legend {
            font-weight: bold;
            color: #8b2e0e;
        }

        /* √çcone de cabe√ßalho */
        h1::before {
            content: "üçΩÔ∏è ";
        }

        h3::after {
            content: " ü•Ç";
        }

        /* Separadores melhorados */
        hr {
            border: 0;
            border-top: 1px solid #d89c5c;
            margin-bottom: 25px;
        }

        /* Rodap√© decorativo */
        a {
            text-decoration: none;
            font-weight: bold;
        }

        a:hover {
            color: #bf360c;
        }

        label {
            font-weight: bold;
            color: #5c2c12;
        }

        /* Bot√£o decorado */
        .btn-enviar {
            background: #8b2e0e;
            color: white;
            border-radius: 6px;
            border: none;
        }

        .btn-enviar:hover {
            background: #b83c17;
        }
    </style>
</head>
<body>
    <form id="form-cadastro" class="card">
        <h1>Restaurante Sabor & Arte</h1>
        <h3>Formul√°rio de Reserva de Mesa</h3>

        <!-- Hor√°rio Atual -->
        <p id="hora-atual" style="text-align:right; color:#8b2e0e; font-weight:bold;"></p>

        <hr>

        <label for="nome">Nome Completo:</label>
        <input type="text" name="nome" id="nome" required autofocus>

        <label for="email">Email:</label>
        <input type="email" name="email" id="email" required placeholder="Exemplo: email@email.com">

        <label for="telefone">Telefone:</label>
        <input type="tel" name="telefone" id="telefone" required>

        <label for="dt-reserva">Data da Reserva:</label>
        <input type="date" name="dt-reserva" id="dt-reserva" required>

        <label for="hora-reserva">Hor√°rio da Reserva:</label>
        <input type="time" name="hora-reserva" id="hora-reserva" required>

        <label for="pessoas">N√∫mero de Pessoas:</label>
        <input type="number" name="pessoas" id="pessoas" required min="1">

        <label for="preferencia">Prefer√™ncia de Mesa:</label>
        <select name="preferencia" id="preferencia" required>
            <option value="">Selecione...</option>
            <option value="Interna">√Årea Interna</option>
            <option value="Externa">√Årea Externa</option>
            <option value="Varanda">Varanda</option>
            <option value="VIP">Mesa VIP</option>
        </select>

        <!-- Campo Card√°pio -->
        <fieldset>
            <legend>Selecione os Itens do Card√°pio ü•òü•ûüç∑</legend>

            <label><input type="checkbox" name="cardapio" value="Entradas"> ü•ó Entradas</label><br>
            <label><input type="checkbox" name="cardapio" value="Pratos Principais"> üçù Pratos Principais</label><br>
            <label><input type="checkbox" name="cardapio" value="Bebidas"> üçπ Bebidas</label><br>
            <label><input type="checkbox" name="cardapio" value="Sobremesas"> üç∞ Sobremesas</label>
        </fieldset>

        <!-- Formas de pagamento -->
        <fieldset>
            <legend>Forma de Pagamento üí≥</legend>
            <label><input type="radio" name="pagamento" value="Cart√£o" required> Cart√£o</label>
            <label><input type="radio" name="pagamento" value="Dinheiro"> Dinheiro</label>
            <label><input type="radio" name="pagamento" value="PIX"> PIX</label>
        </fieldset>

        <label for="informacoes">Observa√ß√µes (anivers√°rio, alergias etc.):</label>
        <textarea name="informacoes" id="informacoes" rows="4" maxlength="200"></textarea>

        <button type="submit" class="btn-enviar">Gerar Relat√≥rio</button>
        
        <br><br>
        <a href="index.html" style="display:block; text-align:center; color:#8b2e0e;">&larr; Voltar ao Menu</a>
    </form> 

    <script>
        // Rel√≥gio de Bras√≠lia
        function atualizarHoraBrasilia() {
            const agora = new Date();
            const opcoes = {
                timeZone: "America/Sao_Paulo",
                hour: "2-digit",
                minute: "2-digit",
                second: "2-digit"
            };
            const horaFormatada = agora.toLocaleTimeString("pt-BR", opcoes);
            document.getElementById("hora-atual").textContent = "Hor√°rio de Bras√≠lia: " + horaFormatada;
        }

        atualizarHoraBrasilia();
        setInterval(atualizarHoraBrasilia, 1000);

        // Script de envio
        document.getElementById('form-cadastro').addEventListener('submit', function(e) {
            e.preventDefault(); 

            const itensMarcados = Array.from(document.querySelectorAll('input[name="cardapio"]:checked'))
                                      .map(cb => cb.value).join(', ');
            
            const pagamentoEscolhido = document.querySelector('input[name="pagamento"]:checked')?.value || "N√£o informado";

            const dados = {
                nome: document.getElementById('nome').value,
                email: document.getElementById('email').value,
                telefone: document.getElementById('telefone').value,
                dataReserva: document.getElementById('dt-reserva').value,
                horarioReserva: document.getElementById('hora-reserva').value,
                pessoas: document.getElementById('pessoas').value,
                preferencia: document.getElementById('preferencia').value,
                cardapio: itensMarcados || "N√£o selecionado",
                pagamento: pagamentoEscolhido,
                obs: document.getElementById('informacoes').value || "Nenhuma"
            };

            localStorage.setItem('dadosReserva', JSON.stringify(dados));
            window.location.href = "relatorio.html";
        });
    </script>
</body>
</html>
